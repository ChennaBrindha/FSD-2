Connecting Express API to a MySQL 
Database
Aim:
To establish a connection between an Express.js API and a MySQL database using the mysql2
driver and perform a sample SELECT query.
Procedure:
1. Ensure MySQL server is running on your system.
2. Create a database and table in MySQL:
CREATE DATABASE testdb;
USE testdb;
CREATE TABLE users (
id INT AUTO_INCREMENT PRIMARY KEY,
 name VARCHAR(100),
 email VARCHAR(100)
);
INSERT INTO users (name, email) VALUES 
('Alice', 'alice@example.com'),
('Bob', 'bob@example.com');
3. Create a Node.js project:
mkdir express-mysql-api
cd express-mysql-api
npm init -y
4. Install necessary packages:
npm install express mysql2
5. Create app.js and write code to:
o Connect to MySQL database
o Handle GET /users route to fetch all user records
6. Run the server:
node app.js
7. Test the API using a browser or Postman:
http://localhost:3000/users
Code:
app.js
const express = require('express');
const mysql = require('mysql2');
const app = express();
const PORT = 3000;
// Create MySQL connection
const connection = mysql.createConnection({
 host: 'localhost',
 user: 'root', // your MySQL username
 password: '', // your MySQL password
 database: 'testdb' // your database name
});
// Connect to the database
connection.connect((err) => {
 if (err) {
 console.error('Database connection failed:', err.stack);
 return;
 }
 console.log('Connected to MySQL database.');
});
// API endpoint to fetch all users
app.get('/users', (req, res) => {
const query = 'SELECT * FROM users';
 connection.query(query, (error, results) => {
 if (error) {
 res.status(500).json({ error: 'Failed to fetch users' });
 } else {
 res.json(results);
 }
 });
});
// Start the Express server
app.listen(PORT, () => {
 console.log(`Server is running at http://localhost:${PORT}`);
});
Output:
When visiting http://localhost:3000/users, the browser or Postman displays:
[
 { "id": 1, "name": "Alice", "email": "alice@example.com" },
 { "id": 2, "name": "Bob", "email": "bob@example.com" }